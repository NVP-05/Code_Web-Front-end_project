// let productList = [
//   {
//     id: 1,
//     image: ["../assets/9781838955823.jpg"],
//     name: "Wood Life",
//     category: 1,
//     author: "Mark Wood",
//     publisher: "Atlantic Books",
//     price: 5,
//     stock: 30,
//     status: true,
//     sale: "29%",
//     description: ` As an England and Durham cricketer who was born, raised and refined in Ashington, Northumberland, my life has been quite unique.
//                     Over the course of my career so far, I've won an Ashes and a World Cup in an international career that at the time of writing is going on seven
//                     years and counting. Being a fast bowler like myself is up there with the toughest of all sporting pursuits, like being Tyson Fury's punchbag or working behind the bar during the darts at Ally Pally. Being a cricketer? There's nothing like it. And doing it for England? Well, I'm lucky to call it a profession. There's been a lot of hard work along
//                     the way. Plenty of sacrifices and pain to accompany the good times that make them all worthwhile.`,
//   },
//   {
//     id: 2,
//     image: ["../assets/9781421520544.jpg"],
//     name: "Vagabond (Vizbig Edition), Vol. 1",
//     category: 1,
//     author: "Takehiko Inoue",
//     publisher: "Viz Media",
//     price: 4.5,
//     stock: 25,
//     status: true,
//     sale: "23%",
//     description: `Real-life figure Miyamoto Musashi was the most celebrated samurai of all time. The quintessential warrior-philosopher,
//                     Musashi authored A Book of Five Rings, a classic treatise in the canon of world philosophy and military
//                     strategy. But the path to enlightenment is an endless journey, and to get there through violent means--by way of the
//                     sword--makes mere survival an even greater challenge.`,
//   },
//   {
//     id: 3,
//     image: ["../assets/9789389432640.jpg"],
//     name: "The Power of A Positive Attitude: Your Road To Success",
//     category: 1,
//     author: "Roger Fritz",
//     publisher: "Andrew Workshop",
//     price: 6,
//     stock: 23,
//     status: true,
//     sale: "40%",
//     description: `Have you ever wondered how your attitude can influence your success and failure? Have you ever considered the power of saying ‘I can’, ‘I must’, ‘I will’? “I am not saying a Positive Attitude can make you successful.
//                      I am saying a Positive Attitude will make you successful.”`,
//   },
//   {
//     id: 4,
//     image: ["../assets/9781786330895.jpg"],
//     name: "Ikigai",
//     category: 1,
//     author: "Héctor Fracesc García Miralles",
//     publisher: "Cornerstone",
//     price: 8,
//     stock: 39,
//     status: true,
//     sale: "28%",
//     description: `Even if we don't know it yet.Ikigai translates as a reason to live
//                      or a reason to jump out of bed in the morning'.”`,
//   },
//   {
//     id: 5,
//     image: ["../assets/9781098136659.jpg"],
//     name: "Typescript Cookbook",
//     category: 1,
//     author: " Stefan Baumgartner",
//     publisher: "O'Reilly Media",
//     price: 4,
//     stock: 59,
//     status: true,
//     sale: "35%",
//     description: `TypeScript is one of the most important tools for JavaScript developers. Still, even experienced developers wonder why the TypeScript compiler is throwing squiggly red lines at them. Enter TypeScript Cookbook. With this practical guide, author Stefan Baumgartner provides senior engineers with
//                      solutions for everyday TypeScript problems.”`,
//   },
//   {
//     id: 6,
//     image: ["../assets/NA01.jpg"],
//     name: "American Prometheus",
//     category: 2,
//     author: " Martin J Sherwin",
//     publisher: "Vintage",
//     price: 3,
//     stock: 46,
//     status: true,
//     sale: "42%",
//     description: `PULITZER PRIZE WINNER - The definitive biography of J. Robert Oppenheimer, one of the iconic figures of the twentieth century, a brilliant physicist who led the effort to build the atomic bomb for his country in a time of war, and who later found himself confronting the moral
//                      consequences of scientific progress.`,
//   },
//   {
//     id: 7,
//     image: ["../assets/NA02jpg.jpg"],
//     name: "The Power of Your Subconscious Mind",
//     category: 2,
//     author: "Joseph Murphy ",
//     publisher: "Raideki Media",
//     price: 6.5,
//     stock: 70,
//     status: true,
//     sale: "24%",
//     description: `The Power of Your Subconscious Mind
//                     is one of the most promising self improvement books
//                     that you can gift to yourself or your loved ones. This book
//                     is designed to help you improve your relationships, health,
//                     and also to give you an internal strength that makes every hurdle look small. The book brings together best of both the worlds - scientific research as well as spiritual wisdom. It used the combined ideas to explain how our subconscious mind has the power to change our lives. The book explains how by understanding and learning to control our subconscious mind, we can welcome a world of prosperity,
//                     happiness and success. This book will act as a guide and help you understand the depth of your subconscious, get rid of fears and attract what you desire simply by changing your beliefs. Having sold millions of copies, this book and its ideas have
//                     changed the lives of many all over the world.`,
//   },
//   {
//     id: 8,
//     image: ["../assets/1.jpg"],
//     name: "Goodbye, Eri",
//     category: 2,
//     author: "Tatsuki Fujimoto",
//     publisher: "Viz Media, Subs. of Shogakukan Inc",
//     price: 5.5,
//     stock: 55,
//     status: true,
//     sale: "35%",
//     description: `An explosive story from the mad genius behind Chainsaw Man and Look Back!
//     Young filmmaker Yuta contemplates suicide after the death of his mother, but a chance meeting with a mysterious girl will alter his life in an explosive way.
//     From the mad genius behind Chainsaw Man and Look Back comes a new story about coping with loss.
//     Yuta's moviemaking career started with a request from his mother to record her final moments. After her death, Yuta meets a mysterious girl named Eri, who takes his life in new directions. The two begin creating a movie together, but Eri is harboring an explosive secret.
//     About the Author: Tatsuki Fujimoto won Honorable Mention in the November 2013 Shueisha Crown Newcomers' Awards for his debut one-shot story, "Love Is Blind." His first series, Fire Punch, ran for eight volumes. His breakout hit Chainsaw Man began serialization in 2018 in Weekly Shonen Jump. The award-winning Look Back was published in 2021.`,
//   },
//   {
//     id: 9,
//     image: ["../assets/2.jpg"],
//     name: "Chainsaw Man, Vol. 1",
//     category: 2,
//     author: "Tatsuki Fujimoto",
//     publisher: "Viz Media ",
//     price: 7.5,
//     stock: 25,
//     status: true,
//     sale: "20%",
//     description: `Broke young man + chainsaw demon = Chainsaw Man!
//     Denji was a small-time devil hunter just trying to survive in a harsh world. After being killed on a job, he is revived by his pet devil Pochita and becomes something new and dangerous--Chainsaw Man!
//     Denji's a poor young man who'll do anything for money, even hunting down devils with his pet devil Pochita. He's a simple man with simple dreams, drowning under a mountain of debt. But his sad life gets turned upside down one day when he's betrayed by someone he trusts. Now with the power of a devil inside him, Denji's become a whole new man--Chainsaw Man!
//     About the Author: Tatsuki Fujimoto won Honorable Mention in the November 2013 Shueisha Crown Newcomers' Awards for his debut one-shot story Love is Blind. His first series Fire Punch ran for eight volumes. Chainsaw Man began serialization in 2018 in Weekly Shonen Jump.`,
//   },
//   {
//     id: 10,
//     image: ["../assets/3.jpg"],
//     name: "Chainsaw Man, Vol. 4",
//     category: 2,
//     author: "Tatsuki Fujimoto",
//     publisher: "Viz Media ",
//     price: 8.5,
//     stock: 35,
//     status: true,
//     sale: "18%",
//     description: `Broke young man + chainsaw demon = Chainsaw Man!
//     Denji was a small-time devil hunter just trying to survive in a harsh world. After being killed on a job, he is revived by his pet devil Pochita and becomes something new and dangerous--Chainsaw Man!
//     Denji's a poor young man who'll do anything for money, even hunting down devils with his pet devil Pochita. He's a simple man with simple dreams, drowning under a mountain of debt. But his sad life gets turned upside down one day when he's betrayed by someone he trusts. Now with the power of a devil inside him, Denji's become a whole new man--Chainsaw Man!
//     About the Author: Tatsuki Fujimoto won Honorable Mention in the November 2013 Shueisha Crown Newcomers' Awards for his debut one-shot story Love is Blind. His first series Fire Punch ran for eight volumes. Chainsaw Man began serialization in 2018 in Weekly Shonen Jump.`,
//   },
//   {
//     id: 11,
//     image: ["../assets/4.jpg"],
//     name: "The Complete Novels of Sherlock Holmes",
//     category: 3,
//     author: "Arthur Conan Doyle",
//     publisher: "Fingerprint! Publishing",
//     price: 9.5,
//     stock: 43,
//     status: true,
//     sale: "25%",
//     description: `“There’s the scarlet thread of murder running through the colourless skein of life and our duty is to unravel it and isolate it and expose every inch of it.”Sherlock Holmes Consulting Detective 221B Baker Street London.
//     This is where begins a historical partnership between Dr. Watson—the archetypal gentleman from the Victorian era—and the eccentric, legendary sleuth, Sherlock Holmes. Join them as they gather clues, ranging from bloodstains and footprints to cigarette ash and wedding rings and arrive at unusual and surprising conclusions. This book is a collection of the four novels written by Sir Arthur Conan Doyle: A Study in Scarlet (1887), The Sign of the Four (1890), The Hound of the Baskervilles (1902) and The Valley of Fear (1915). Featuring the timeless detective Sherlock Holmes, these novels have been successfully engrossing readers for more than a century now.`,
//   },
//   {
//     id: 12,
//     image: ["../assets/5.jpg"],
//     name: "Alchemist",
//     category: 3,
//     author: "Paulo Coelho",
//     publisher: "Westland ",
//     price: 10.5,
//     stock: 34,
//     status: true,
//     sale: "15%",
//     description: `A novel rich in metaphors and symbolism, The Alchemist is a story based on the adventures of a young shepherd boy, who, upon deciding to follow his prophetic dreams, sets on a treasure hunt. This journey introduces him to some remarkable people who leave an indelible and profound mark on him.
//     The Alchemist was first published in 1988. The protagonist of the story, a young Andalusian shepherd boy named Santiago, is plagued with recurring dreams, wherein a mysterious child urges him to look for buried treasure at the base of the Egyptian pyramids. Determined, he leaves Spain and heads towards Egypt. En route, he meets the King of Salem, a man named Melchizedek. Melchizedek introduces Santiago to the concept of a ‘Personal Legend’ or a personal map or a quest that guides him to what his heart truly desires.
//     While attempting to cross the Sahara desert on the way to Egypt, he joins a caravan which is driven by an Englishman who is aspiring to be an alchemist. During a stop over in Al-Fayoum, Santiago meets Fatima, a young girl of exceeding beauty who steals his heart. He asks her to marry him, but she declines saying that she will do so only once he has found the treasure he seeks. In the Saharan oasis of Al-Fayoum, Santiago meets a 200 year old alchemist who decides to accompany him on his expedition. He imparts wisdom and valuable knowledge to Santiago, who eventually understands why the supposed treasure keeps evading him.
//     Having sold over 65 million copies worldwide, The Alchemist is marked by its profound simplicity, the easy flow of the story, and the poignant moral it tries to teach the reader, that worldly possessions and extravagance are immaterial when compared to finding your own ‘Personal Legend’.`,
//   },
//   {
//     id: 13,
//     image: ["../assets/6.jpg"],
//     name: "Anna Karenina",
//     category: 3,
//     author: "Leo Tolstoy",
//     publisher: "Wordsworth Editions",
//     price: 12.5,
//     stock: 42,
//     status: true,
//     sale: "30%",
//     description: `Translated by Louise and Aylmer Maude. Introduction and Notes by E.B. Greenwood, University of Kent.
//     Anna Karenina is one of the most loved and memorable heroines of literature. Her overwhelming charm dominates a novel of unparalleled richness and density.
//     Tolstoy considered this book to be his first real attempt at a novel form, and it addresses the very nature of society at all levels, - of destiny, death, human relationships and the irreconcilable contradictions of existence. It ends tragically, and there is much that evokes despair, yet set beside this is an abounding joy in life's many ephemeral pleasures, and a profusion of comic relief.`,
//   },
//   {
//     id: 14,
//     image: ["../assets/7.jpg"],
//     name: "To Kill A Mockingbird",
//     category: 3,
//     author: "Harper Lee",
//     publisher: "Cornerstone",
//     price: 11.5,
//     stock: 36,
//     status: true,
//     sale: "20%",
//     description: `'Shoot all the bluejays you want, if you can hit ’em, but remember it’s a sin to kill a mockingbird.’ Atticus Finch gives this advice to his children as he defends the real mockingbird of this classic novel – a black man charged with attacking a white girl. Through the eyes of Scout and Jem Finch, Lee explores the issues of race and class in the Deep South of the 1930s with compassion and humour. She also creates one of the great heroes of literature in their father, whose lone struggle for justice pricks the conscience of a town steeped in prejudice and hypocrisy.`,
//   },
//   {
//     id: 15,
//     image: ["../assets/8.jpg"],
//     name: "Great Gatsby",
//     category: 3,
//     author: "F Fitzgerald Scott",
//     publisher: "Namaskar Books",
//     price: 13.5,
//     stock: 47,
//     status: true,
//     sale: "40%",
//     description: `The Great Gatsby is a 1925 novel by American writer F. Scott Fitzgerald. Set in the Jazz Age on Long Island, the novel depicts narrator Nick Carraway's interactions with mysterious millionaire Jay Gatsby and Gatsby's obsession to reunite with his former lover, Daisy Buchanan. A youthful romance Fitzgerald had with socialite Ginevra King, and the riotous parties he attended on Long Island's North Shore in 1922 inspired the novel. Following a move to the French Riviera, he completed a rough draft in 1924. He submitted the draft to editor Maxwell Perkins, who persuaded Fitzgerald to revise the work over the following winter. After his revisions, Fitzgerald was satisfied with the text, but remained ambivalent about the book's title and considered several alternatives. The final title he desired was Under the Red, White, and Blue. Painter Francis Cugat's final cover design impressed Fitzgerald who incorporated a visual element from the art into the novel.`,
//   },
// ];

let categoryList = [
  {
    id: 1,
    name: "Best Sellers",
    description: "Most attractive story and experience",
    image: "../assets/sqgouvq4.png",
    status: true,
  },
  {
    id: 2,
    name: "New Arrivals",
    description: "For new exploser and new knowledge",
    image: "../assets/new_arrival.jpg",
    status: true,
  },
  {
    id: 3,
    name: "Novels",
    description: "Join in many wonderful imaginary worlds and stories",
    image: "../assets/20230919_2XwWzgtu.png",
    status: true,
  },
];

// localStorage.setItem("productList", JSON.stringify(productList));
localStorage.setItem("categoryList", JSON.stringify(categoryList));

let bestSellerCategoryBanner = document.getElementById("category-banner");
let bestSellerCategoryTitle = document.getElementById("category-title");
let bestSellerProductContainer = document.getElementById("product-container");

let newArrivalCategoryBanner = document.getElementById("new-arrival-banner");
let newArrivalCategoryTitle = document.getElementById("new-arrival-title");
let newArrivalProductContainer = document.getElementById(
  "new-arrival-container"
);

/*-----*/
let novelsCategoryBanner = document.getElementById("novels-banner");
let novelsCategoryTitle = document.getElementById("novels-title");
let novelsProductContainer = document.getElementById("novels-container");
/*-----*/

let productList = JSON.parse(localStorage.getItem("productList"));
console.log(productList);
let category = JSON.parse(localStorage.getItem("categoryList"));

let bestSellerList = productList.filter(function (e, i) {
  return e.category === 1;
});

let bestSellerCategory = category.find(function (e, i) {
  return e.id === 1;
});

let newArrivalList = productList.filter(function (e, i) {
  return e.category === 2;
});

let newArrivalCategory = category.find(function (e, i) {
  return e.id === 2;
});

/*---*/
let novelsList = productList.filter(function (e, i) {
  return e.category === 3;
});

let novelsCategory = category.find(function (e, i) {
  return e.id === 3;
});
/*---*/

bestSellerCategoryBanner.src = bestSellerCategory.image;
bestSellerCategoryTitle.innerHTML = `${bestSellerCategory.name} - ${bestSellerCategory.description}`;

newArrivalCategoryBanner.src = newArrivalCategory.image;
newArrivalCategoryTitle.innerHTML = `${newArrivalCategory.name} - ${newArrivalCategory.description}`;

novelsCategoryBanner.src = novelsCategory.image;
novelsCategoryTitle.innerHTML = `${novelsCategory.name} - ${novelsCategory.description}`;

function render() {
  for (let product in bestSellerList) {
    if (bestSellerList[product].status == true) {
      bestSellerProductContainer.innerHTML += `
        <div class="col">
        <div class="book">
            <img src="${bestSellerList[product].image[0]}" alt="">
            <h4>${bestSellerList[product].name}</h4>
            <p>
            ${bestSellerList[product].price}$
            </p>
            <a href="product-detail.html?id=${bestSellerList[product].id}">View</a>
        </div>
        </div>`;
    }
  }

  for (let product in newArrivalList) {
    newArrivalProductContainer.innerHTML += `
      <div class="col">
                      
          <div class="book">
              <img src="${newArrivalList[product].image[0]}" alt="">
              <h4>${newArrivalList[product].name}</h4>
              <p>
              ${newArrivalList[product].price}$
              </p>
              <a href="product-detail.html?id=${newArrivalList[product].id}">View</a>
          </div>
      </div>`;
  }

  for (let product in novelsList) {
    novelsProductContainer.innerHTML += `
      <div class="col">
                      
          <div class="book">
              <img src="${novelsList[product].image[0]}" alt="">
              <h4>${novelsList[product].name}</h4>
              <p>
              ${novelsList[product].price}$
              </p>
              <a href="product-detail.html?id=${novelsList[product].id}">View</a>
          </div>
      </div>`;
  }
}
render();

// Login after
let beginLogin = document.getElementById("begin-login");
let nameUser = document.getElementById("name-user");

let flag = JSON.parse(localStorage.getItem("flag"));
let userLogin = JSON.parse(localStorage.getItem("userLogin"));
let checkLogin = JSON.parse(localStorage.getItem("checkLogin"));

if (flag == 1) {
  nameUser.style.display = "block";
  nameUser.innerHTML = userLogin.Name;
  beginLogin.style.display = "none";
}

// function hiển thị số lượng sản phẩm
function showQuantityCart() {
  // lấy giỏ hàng ra.length là được
  let checkLogin = JSON.parse(localStorage.getItem("checkLogin"));
  let users = JSON.parse(localStorage.getItem("users"));
  for (let i = 0; i < users.length; i++) {
    if (users[i].userID == checkLogin) {
      console.log(users[i].cart);
      document.getElementsByClassName("itemInCart")[0].innerHTML =
        users[i].Cart.length;
    }
  }
}
showQuantityCart();
